import{aw as n,ax as s}from"./R_UQo4UH.js";const i=()=>{const a=n("payment-loading",()=>!1),t=n("payment-error",()=>null),o=async r=>{a.value=!0,t.value=null;try{const e=await $fetch("/api/payment/initiate",{method:"POST",body:{order_id:r}});return e.success&&e.data.gateway_url&&(window.location.href=e.data.gateway_url),e}catch(e){return t.value=e.data?.message||"Failed to initiate payment",console.error("Payment initiation error:",e),null}finally{a.value=!1}},l=async r=>{a.value=!0,t.value=null;try{return await $fetch(`/api/payment/status/${r}`)}catch(e){return t.value=e.data?.message||"Failed to fetch payment status",console.error("Payment status error:",e),null}finally{a.value=!1}};return{loading:s(a),error:s(t),initiatePayment:o,getPaymentStatus:l}};export{i as u};
