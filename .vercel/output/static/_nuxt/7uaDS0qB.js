import{e as N,ak as S,J as x,h as V,u as H,c as l,n as F,j as a,b as n,a as t,w as m,t as o,F as f,r as y,l as I,al as M,aj as v,o as r,k as z,d as p,ai as k,p as b}from"./R_UQo4UH.js";import{_ as E}from"./Bs3XQjzI.js";import{_ as J}from"./CTrlIwtz.js";import{u as P}from"./DMIVJhBN.js";const R={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},q={key:0,class:"flex justify-center items-center min-h-screen"},G={key:1,class:"container mx-auto px-4 py-12 max-w-4xl"},K=["src","alt"],O={class:"mb-8"},Q={class:"text-4xl md:text-5xl font-bold text-gray-900 dark:text-white mb-4"},W={class:"flex items-center gap-6 text-gray-600 dark:text-gray-400"},X={class:"flex items-center gap-2"},Y={class:"flex items-center gap-1"},Z={class:"flex items-center gap-1"},tt={class:"flex gap-2 mt-4"},et=["innerHTML"],at={class:"border-t border-gray-200 dark:border-gray-700 pt-12"},st={key:0,class:"flex justify-center py-10"},ot={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},nt=["src","alt"],rt={class:"space-y-2"},it={class:"text-lg font-bold text-gray-900 dark:text-white line-clamp-2"},ct={class:"text-gray-600 dark:text-gray-400 line-clamp-2 text-sm"},lt={class:"flex items-center gap-1 text-sm text-gray-500"},ht=N({__name:"[slug]",async setup(dt){let i,u;const g=S(),{fetchPost:w,fetchPosts:T}=P(),{data:e,pending:$}=([i,u]=x(()=>v(`post-${g.params.slug}`,()=>w(g.params.slug))),i=await i,u(),i),{data:B,pending:C}=([i,u]=x(()=>v(`similar-${g.params.slug}`,()=>T(e.value?.category,1,4))),i=await i,u(),i),j=V(()=>B.value?.posts.filter(c=>c.id!==e.value?.id).slice(0,2)||[]),D=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return H({title:()=>e.value?`${e.value.title} | Tech Blog`:"Loading...",meta:[{name:"description",content:()=>e.value?.excerpt||""}]}),(c,d)=>{const _=z,U=I,h=E,A=M,L=J;return r(),l("div",R,[a($)?(r(),l("div",q,[n(_,{name:"i-heroicons-arrow-path",class:"animate-spin text-4xl text-primary-500"})])):a(e)?(r(),l("article",G,[n(U,{icon:"i-heroicons-arrow-left",variant:"ghost",class:"mb-6",onClick:d[0]||(d[0]=s=>("navigateTo"in c?c.navigateTo:a(k))("/blog"))},{default:m(()=>[...d[1]||(d[1]=[p(" Back to posts ",-1)])]),_:1}),t("img",{src:a(e).image,alt:a(e).title,class:"w-full h-96 object-cover rounded-lg mb-8"},null,8,K),t("header",O,[n(h,{color:"primary",variant:"subtle",class:"mb-4"},{default:m(()=>[p(o(a(e).category),1)]),_:1}),t("h1",Q,o(a(e).title),1),t("div",W,[t("div",X,[n(A,{src:a(e).author.avatar,size:"sm"},null,8,["src"]),t("span",null,o(a(e).author.name),1)]),t("div",Y,[n(_,{name:"i-heroicons-calendar"}),t("span",null,o(D(a(e).publishedAt)),1)]),t("div",Z,[n(_,{name:"i-heroicons-clock"}),t("span",null,o(a(e).readTime)+" min read",1)])]),t("div",tt,[(r(!0),l(f,null,y(a(e).tags,s=>(r(),b(h,{key:s,color:"gray",variant:"subtle"},{default:m(()=>[p(" #"+o(s),1)]),_:2},1024))),128))])]),t("div",{class:"prose prose-lg dark:prose-invert max-w-none mb-12",innerHTML:a(e).content},null,8,et),t("div",at,[d[2]||(d[2]=t("h2",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-6"}," Similar Posts ",-1)),a(C)?(r(),l("div",st,[n(_,{name:"i-heroicons-arrow-path",class:"animate-spin text-3xl text-primary-500"})])):(r(),l("div",ot,[(r(!0),l(f,null,y(a(j),s=>(r(),b(L,{key:s.id,class:"hover:shadow-lg transition-shadow cursor-pointer",onClick:mt=>("navigateTo"in c?c.navigateTo:a(k))(`/blog/${s.slug}`)},{header:m(()=>[t("img",{src:s.image,alt:s.title,class:"w-full h-40 object-cover"},null,8,nt)]),default:m(()=>[t("div",rt,[n(h,{color:"primary",variant:"subtle"},{default:m(()=>[p(o(s.category),1)]),_:2},1024),t("h3",it,o(s.title),1),t("p",ct,o(s.excerpt),1),t("div",lt,[n(_,{name:"i-heroicons-clock"}),p(" "+o(s.readTime)+" min ",1)])])]),_:2},1032,["onClick"]))),128))]))])])):F("",!0)])}}});export{ht as default};
