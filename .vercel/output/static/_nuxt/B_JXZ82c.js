import{_ as B}from"./BJYbV2M4.js";import{_ as E}from"./D5x8Ri5I.js";import{e as N,f as H,B as b,ah as I,h as p,p as T,w as r,o as _,b as a,j as s,a as d,l as W,av as L,t as w,c as k,F as M,r as j,K as D,k as K,d as g,_ as Z,ai as G}from"./R_UQo4UH.js";import{_ as J}from"./CSH7X6ox.js";import{_ as O}from"./CTrlIwtz.js";import{_ as Q}from"./QauSHDih.js";import{u as X}from"./BV5vhKKJ.js";const Y={id:"password-strength",class:"text-sm font-medium"},ee={class:"space-y-1","aria-label":"Password requirements"},se={class:"text-xs font-light"},ae={class:"sr-only"},te={class:"text-center space-y-2"},ce=N({__name:"register",setup(oe){const{register:V}=X(),x=H(),m=b(!1),u=b(!1),n=I({name:"",email:"",password:"",password_confirmation:""});function U(t){return[{regex:/.{8,}/,text:"At least 8 characters"},{regex:/\d/,text:"At least 1 number"},{regex:/[a-z]/,text:"At least 1 lowercase letter"},{regex:/[A-Z]/,text:"At least 1 uppercase letter"}].map(i=>({met:i.regex.test(t),text:i.text}))}const h=p(()=>U(n.password)),l=p(()=>h.value.filter(t=>t.met).length),v=p(()=>l.value===0?"neutral":l.value<=1?"error":l.value<=2||l.value===3?"warning":"success"),y=p(()=>l.value===0?"Enter a password":l.value<=2?"Weak password":l.value===3?"Medium password":"Strong password");async function P(t){const e=[];return t.name?.length||e.push({name:"name",message:"Full name is required"}),t.email?.length?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||e.push({name:"email",message:"Invalid email format"}):e.push({name:"email",message:"Email is required"}),t.password?.length?l.value<4&&e.push({name:"password",message:"Password does not meet requirements"}):e.push({name:"password",message:"Password is required"}),t.password_confirmation?.length?t.password!==t.password_confirmation&&e.push({name:"password_confirmation",message:"Passwords do not match"}):e.push({name:"password_confirmation",message:"Please confirm your password"}),e}const $=async()=>{try{await V(n),x.add({title:"Success",description:"Registration successful! Welcome aboard.",color:"success"}),await G("/")}catch(t){x.add({title:"Registration Failed",description:t.message||"Something went wrong",color:"error"})}};return(t,e)=>{const i=B,c=E,f=W,q=L,C=K,S=J,F=Z,R=O,z=Q;return _(),T(z,{class:"max-w-md mx-auto py-12"},{default:r(()=>[a(R,null,{header:r(()=>[...e[6]||(e[6]=[d("h1",{class:"text-2xl font-bold text-center"},"Register",-1)])]),footer:r(()=>[d("div",te,[a(F,{to:"/auth/login",class:"text-primary-500 hover:underline"},{default:r(()=>[...e[8]||(e[8]=[g(" Have an account? Sign in ",-1)])]),_:1})])]),default:r(()=>[a(S,{state:s(n),validate:P,onSubmit:$},{default:r(()=>[a(c,{label:"Full Name",required:"",name:"name"},{default:r(()=>[a(i,{modelValue:s(n).name,"onUpdate:modelValue":e[0]||(e[0]=o=>s(n).name=o),placeholder:"Enter your full name",class:"w-full"},null,8,["modelValue"])]),_:1}),a(c,{label:"Email",required:"",help:"We won't share your email with anyone",name:"email"},{default:r(()=>[a(i,{modelValue:s(n).email,"onUpdate:modelValue":e[1]||(e[1]=o=>s(n).email=o),placeholder:"Enter your email",class:"w-full",icon:"i-lucide-at-sign",type:"email"},null,8,["modelValue"])]),_:1}),a(c,{label:"Password",required:"",name:"password"},{default:r(()=>[a(i,{modelValue:s(n).password,"onUpdate:modelValue":e[3]||(e[3]=o=>s(n).password=o),placeholder:"Password",color:s(v),type:s(m)?"text":"password","aria-invalid":s(l)<4,"aria-describedby":"password-strength",ui:{trailing:"pe-1"},class:"w-full"},{trailing:r(()=>[a(f,{color:"neutral",variant:"link",size:"sm",icon:s(m)?"i-lucide-eye-off":"i-lucide-eye","aria-label":s(m)?"Hide password":"Show password","aria-pressed":s(m),"aria-controls":"password",onClick:e[2]||(e[2]=o=>m.value=!s(m))},null,8,["icon","aria-label","aria-pressed"])]),_:1},8,["modelValue","color","type","aria-invalid"])]),_:1}),a(q,{color:s(v),indicator:s(y),"model-value":s(l),max:4,size:"sm",class:"mt-2"},null,8,["color","indicator","model-value"]),d("p",Y,w(s(y))+". Must contain: ",1),d("ul",ee,[(_(!0),k(M,null,j(s(h),(o,A)=>(_(),k("li",{key:A,class:D(["flex items-center gap-0.5",o.met?"text-success":"text-muted"])},[a(C,{name:o.met?"i-lucide-circle-check":"i-lucide-circle-x",class:"size-4 shrink-0"},null,8,["name"]),d("span",se,[g(w(o.text)+" ",1),d("span",ae,w(o.met?" - Requirement met":" - Requirement not met"),1)])],2))),128))]),a(c,{label:"Confirm Password",required:"",name:"password_confirmation",class:"mt-4"},{default:r(()=>[a(i,{modelValue:s(n).password_confirmation,"onUpdate:modelValue":e[5]||(e[5]=o=>s(n).password_confirmation=o),placeholder:"Re-enter your password",type:s(u)?"text":"password",ui:{trailing:"pe-1"},class:"w-full"},{trailing:r(()=>[a(f,{color:"neutral",variant:"link",size:"sm",icon:s(u)?"i-lucide-eye-off":"i-lucide-eye","aria-label":s(u)?"Hide password":"Show password","aria-pressed":s(u),onClick:e[4]||(e[4]=o=>u.value=!s(u))},null,8,["icon","aria-label","aria-pressed"])]),_:1},8,["modelValue","type"])]),_:1}),a(f,{type:"submit",size:"lg",icon:"i-lucide-rocket",class:"w-full mt-4 block",disabled:s(l)<4,"loading-auto":""},{default:r(()=>[...e[7]||(e[7]=[g(" Register ",-1)])]),_:1},8,["disabled"])]),_:1},8,["state"])]),_:1})]),_:1})}}});export{ce as default};
