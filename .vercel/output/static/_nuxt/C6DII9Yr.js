import{e as W,f as X,g as Z,h as y,i as tt,c,o as i,b as r,w as d,a as t,t as n,j as a,k as et,l as st,d as l,F as T,r as Q,_ as ot,m as at,n as u,p as nt,q as rt}from"./R_UQo4UH.js";import{_ as it}from"./Bs3XQjzI.js";import{_ as ct}from"./QauSHDih.js";import{c as lt,a as dt,b as ut,g as w,d as _,e as D,f as P,i as gt}from"./DljFmjOf.js";import{u as pt}from"./CmdlfJXN.js";const xt={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},ht={class:"mb-8"},mt={class:"text-gray-600 dark:text-gray-400"},yt={key:0,class:"flex flex-col items-center justify-center py-16 text-center"},_t={class:"bg-gray-100 dark:bg-gray-800 rounded-full p-8 mb-6"},ft={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},kt={class:"lg:col-span-2 space-y-4"},vt={class:"flex gap-4"},bt={class:"flex-1 min-w-0"},St={class:"flex justify-between items-start mb-2"},wt={class:"flex-1 min-w-0 pr-4"},$t={key:0,class:"text-sm font-medium text-primary-600 dark:text-primary-400 mt-1"},Ct={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},It={class:"text-right flex-shrink-0"},Ft={class:"space-y-1"},jt={class:"font-bold text-lg text-gray-900 dark:text-white"},zt={key:0,class:"text-sm text-gray-400 line-through"},Rt={class:"flex items-center gap-2 justify-end"},Tt={class:"text-sm font-medium text-gray-900 dark:text-white"},Qt={key:0,class:"text-xs text-gray-400 line-through"},Dt={key:0,class:"mb-2"},Pt={class:"flex items-center justify-between mt-3"},qt={class:"flex items-center gap-3"},Bt={class:"flex items-center gap-2 bg-gray-100 dark:bg-gray-700 rounded-lg p-1"},Ot={class:"text-sm font-semibold w-10 text-center text-gray-900 dark:text-white"},Et={key:1,class:"text-xs text-orange-500 mt-2"},Nt={class:"pt-4"},Ut={class:"lg:col-span-1"},Mt={class:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm sticky top-4"},Vt={key:0,class:"mb-6 pb-6 border-b border-gray-200 dark:border-gray-700"},At={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2"},Lt={class:"space-y-3"},Kt={class:"flex items-start justify-between gap-2 mb-1"},Yt={class:"flex-1 min-w-0"},Gt={class:"text-sm font-semibold text-green-700 dark:text-green-300"},Ht={class:"text-xs text-gray-600 dark:text-gray-400"},Jt={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},Wt={class:"space-y-3 mb-6"},Xt={key:0,class:"flex justify-between text-gray-500 dark:text-gray-400"},Zt={class:"font-medium line-through"},te={class:"flex justify-between text-gray-600 dark:text-gray-400"},ee={class:"font-medium"},se={key:1,class:"flex justify-between text-green-600 dark:text-green-400"},oe={class:"flex items-center gap-1"},ae={class:"font-medium"},ne={class:"flex justify-between text-gray-600 dark:text-gray-400"},re={class:"font-medium"},ie={class:"flex justify-between text-gray-600 dark:text-gray-400"},ce={class:"font-medium"},le={key:1,class:"mb-6"},de={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3"},ue={class:"flex items-start gap-2 mb-2"},ge={class:"text-sm text-blue-700 dark:text-blue-300"},pe={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},xe={class:"pt-4 border-t-2 border-gray-200 dark:border-gray-700 mb-6"},he={class:"flex justify-between items-baseline"},me={class:"text-2xl font-bold text-primary-500"},ye={class:"space-y-2 text-sm text-gray-600 dark:text-gray-400"},_e={class:"flex items-center gap-2"},fe={class:"flex items-center gap-2"},q=10,f=50,ke=5.99,Ie=W({__name:"cart",setup(ve){const $=X(),B=Z(),{cartItems:h,cartTotal:O,cartOriginalTotal:E,cartDiscount:N,cartSavings:C,appliedDiscounts:k,updateCartItemQuantity:I,removeFromCart:U}=pt(),p=y(()=>O.value||0),m=y(()=>lt(p.value,f,ke)),F=y(()=>dt(p.value,q)),M=y(()=>ut(p.value,m.value,F.value)),V=(e,s)=>{e&&P(e)&&I(e.product?.slug||e.slug,e.quantity+1,e.variation_id)},A=e=>{e&&D(e)&&I(e.product?.slug||e.slug,e.quantity-1,e.variation_id)},L=e=>{e&&(U(e.product?.slug||e.slug,e.variation_id),$.add({title:"Removed from cart",description:`${e.product.name}${e.variation?" - "+e.variation.name:""} has been removed`,color:"success",icon:"i-heroicons-trash"}))},v=e=>{const s=e.variation?.price??e.product?.price??0;return parseFloat(s)},b=e=>{const s=e.variation?.original_price??e.product?.original_price??e.variation?.price??e.product?.price??0;return parseFloat(s)},j=e=>{const s=v(e);return b(e)>s},K=e=>v(e)*(e.quantity||1),Y=e=>b(e)*(e.quantity||1),G=()=>{B.push("/checkout"),$.add({title:"Proceeding to checkout",description:"Please complete your purchase",color:"primary",icon:"i-heroicons-shopping-bag"})};return tt({title:"Shopping Cart",description:"Review your cart and proceed to checkout"}),(e,s)=>{const g=et,x=st,H=at,z=ot,S=it,J=ct;return i(),c("div",xt,[r(J,{class:"py-8"},{default:d(()=>[t("div",ht,[s[0]||(s[0]=t("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white mb-2"},"Shopping Cart",-1)),t("p",mt,n(a(h)?.length||0)+" "+n(a(h)?.length===1?"item":"items")+" in your cart ",1)]),!a(h)||a(h).length===0?(i(),c("div",yt,[t("div",_t,[r(g,{name:"i-heroicons-shopping-cart",class:"text-6xl text-gray-400"})]),s[2]||(s[2]=t("h3",{class:"text-2xl font-semibold text-gray-900 dark:text-white mb-2"},"Your cart is empty",-1)),s[3]||(s[3]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"Looks like you haven't added anything to your cart yet",-1)),r(x,{to:"/shop",size:"lg",icon:"i-heroicons-shopping-bag"},{default:d(()=>[...s[1]||(s[1]=[l(" Continue Shopping ",-1)])]),_:1})])):(i(),c("div",ft,[t("div",kt,[(i(!0),c(T,null,Q(a(h),o=>(i(),c("div",{key:`${o.slug}-${o.variation_id||"default"}`,class:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow"},[t("div",vt,[r(z,{to:`/shop/product/${o.product.slug}`,class:"flex-shrink-0"},{default:d(()=>[r(H,{src:o.variation?.images?.thumb||o.product.image||"https://placehold.co/120x120",alt:o.variation?.name||o.product.name,class:"w-24 h-24 object-cover rounded-lg hover:opacity-90 transition-opacity",width:"120",height:"120",loading:"lazy",format:"webp"},null,8,["src","alt"])]),_:2},1032,["to"]),t("div",bt,[t("div",St,[t("div",wt,[r(z,{to:`/shop/product/${o.product.slug}`,class:"font-semibold text-gray-900 dark:text-white hover:text-primary-500 block truncate"},{default:d(()=>[l(n(o?.product?.name),1)]),_:2},1032,["to"]),o.variation?(i(),c("p",$t,n(o.variation.name),1)):u("",!0),t("p",Ct," SKU: "+n(o.variation?.sku||o?.product?.sku),1)]),t("div",It,[t("div",Ft,[t("p",jt," $"+n(K(o).toFixed(2)),1),j(o)?(i(),c("p",zt," $"+n(Y(o).toFixed(2)),1)):u("",!0),t("div",Rt,[t("p",Tt," $"+n(v(o).toFixed(2))+" each ",1),j(o)?(i(),c("p",Qt," $"+n(b(o).toFixed(2)),1)):u("",!0)]),o.discount?(i(),nt(S,{key:1,color:"success",variant:"soft",size:"xs"},{default:d(()=>[l(n(o.discount.summary),1)]),_:2},1024)):u("",!0)])])]),("getStockStatus"in e?e.getStockStatus:a(w))(("getItemStock"in e?e.getItemStock:a(_))(o)).showBadge?(i(),c("div",Dt,[r(S,{color:("getStockStatus"in e?e.getStockStatus:a(w))(("getItemStock"in e?e.getItemStock:a(_))(o)).color,variant:"soft",size:"xs"},{default:d(()=>[l(n(("getStockStatus"in e?e.getStockStatus:a(w))(("getItemStock"in e?e.getItemStock:a(_))(o)).message),1)]),_:2},1032,["color"])])):u("",!0),t("div",Pt,[t("div",qt,[s[4]||(s[4]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Quantity:",-1)),t("div",Bt,[r(x,{onClick:R=>A(o),icon:"i-heroicons-minus",size:"xs",color:"secondary",variant:"ghost",disabled:!("canDecrementQuantity"in e?e.canDecrementQuantity:a(D))(o)},null,8,["onClick","disabled"]),t("span",Ot,n(o.quantity),1),r(x,{onClick:R=>V(o,("getItemStock"in e?e.getItemStock:a(_))(o)),icon:"i-heroicons-plus",size:"xs",color:"secondary",variant:"ghost",disabled:!("canIncrementQuantity"in e?e.canIncrementQuantity:a(P))(o)},null,8,["onClick","disabled"])])]),r(x,{onClick:R=>L(o),icon:"i-heroicons-trash",size:"sm",color:"error",variant:"ghost"},{default:d(()=>[...s[5]||(s[5]=[l(" Remove ",-1)])]),_:1},8,["onClick"])]),("isMaxStockReached"in e?e.isMaxStockReached:a(gt))(o)?(i(),c("p",Et,[r(g,{name:"i-heroicons-exclamation-triangle",class:"inline"}),s[6]||(s[6]=l(" Maximum available quantity reached ",-1))])):u("",!0)])])]))),128)),t("div",Nt,[r(x,{to:"/shop",variant:"soft",icon:"i-heroicons-arrow-left",size:"lg"},{default:d(()=>[...s[7]||(s[7]=[l(" Continue Shopping ",-1)])]),_:1})])]),t("div",Ut,[t("div",Mt,[s[17]||(s[17]=t("h2",{class:"text-xl font-bold text-gray-900 dark:text-white mb-6"},"Order Summary",-1)),a(k)&&a(k).length>0?(i(),c("div",Vt,[t("h3",At,[r(g,{name:"i-heroicons-tag",class:"text-green-500"}),s[8]||(s[8]=l(" Active Discounts ",-1))]),t("div",Lt,[(i(!0),c(T,null,Q(a(k),o=>(i(),c("div",{key:o.name,class:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3"},[t("div",Kt,[t("div",Yt,[t("p",Gt,n(o.name),1),t("p",Ht,n(o.summary),1)]),r(S,{color:"success",variant:"solid",size:"xs"},{default:d(()=>[l(" -$"+n(o.discount_amount.toFixed(2)),1)]),_:2},1024)]),t("p",Jt," Applied to "+n(o.items_affected)+" "+n(o.items_affected===1?"item":"items"),1)]))),128))])])):u("",!0),t("div",Wt,[a(N)>0?(i(),c("div",Xt,[s[9]||(s[9]=t("span",null,"Original Subtotal",-1)),t("span",Zt,"$"+n(a(E).toFixed(2)),1)])):u("",!0),t("div",te,[s[10]||(s[10]=t("span",null,"Subtotal",-1)),t("span",ee,"$"+n(a(p).toFixed(2)),1)]),a(C)>0?(i(),c("div",se,[t("span",oe,[r(g,{name:"i-heroicons-tag",class:"text-sm"}),s[11]||(s[11]=l(" Discount Savings ",-1))]),t("span",ae,"-$"+n(a(C).toFixed(2)),1)])):u("",!0),t("div",ne,[s[12]||(s[12]=t("span",null,"Shipping",-1)),t("span",re,n(a(m)===0?"FREE":`$${a(m).toFixed(2)}`),1)]),t("div",ie,[t("span",null,"Tax ("+n(q)+"%)"),t("span",ce,"$"+n(a(F).toFixed(2)),1)])]),a(m)>0&&a(p)<f?(i(),c("div",le,[t("div",de,[t("div",ue,[r(g,{name:"i-heroicons-truck",class:"text-blue-500 mt-0.5"}),t("p",ge," Add $"+n((f-a(p)).toFixed(2))+" more for FREE shipping! ",1)]),t("div",pe,[t("div",{class:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:rt({width:`${a(p)/f*100}%`})},null,4)])])])):u("",!0),t("div",xe,[t("div",he,[s[13]||(s[13]=t("span",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Total",-1)),t("span",me,"$"+n(a(M).toFixed(2)),1)])]),r(x,{onClick:G,size:"xl",block:"",icon:"i-heroicons-lock-closed",class:"mb-4"},{default:d(()=>[...s[14]||(s[14]=[l(" Proceed to Checkout ",-1)])]),_:1}),t("div",ye,[t("div",_e,[r(g,{name:"i-heroicons-shield-check",class:"text-green-500"}),s[15]||(s[15]=t("span",null,"Secure checkout",-1))]),t("div",fe,[r(g,{name:"i-heroicons-arrow-path",class:"text-blue-500"}),s[16]||(s[16]=t("span",null,"30-day return policy",-1))])])])])]))]),_:1})])}}});export{Ie as default};
