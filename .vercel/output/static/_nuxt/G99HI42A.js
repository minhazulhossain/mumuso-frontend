import{_ as R}from"./BJYbV2M4.js";import{e as q,B as y,J as C,h as g,u as G,c as i,a as t,n as K,b as c,af as B,j as a,w as u,F as $,r as V,t as d,l as M,aj as T,o,d as x,p as U,k as O,ai as W}from"./R_UQo4UH.js";import{_ as X}from"./Bs3XQjzI.js";import{_ as Y}from"./CTrlIwtz.js";import{_ as Z}from"./DVcHiGuN.js";import{u as ee}from"./DMIVJhBN.js";const te={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},ae={class:"container mx-auto px-4 py-12"},se={class:"mb-8"},oe={class:"mb-8"},ne={class:"flex gap-3 flex-wrap"},le={key:0,class:"flex justify-center py-20"},re={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-12"},ie=["src","alt"],ce={class:"space-y-3"},de={class:"text-xl font-bold text-gray-900 dark:text-white line-clamp-2"},me={class:"text-gray-600 dark:text-gray-400 line-clamp-3"},ue={class:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700"},_e={class:"flex items-center gap-1 text-sm text-gray-500"},pe={key:2,class:"text-center py-20"},ge={class:"text-xl text-gray-600 dark:text-gray-400"},xe={key:3,class:"flex justify-center"},Ce=q({__name:"index",async setup(fe){let n,_;const{fetchPosts:P,fetchCategories:j}=ee(),l=y(""),m=y(null),r=y(1),{data:N}=([n,_]=C(()=>T("categories",()=>j())),n=await n,_(),n),A=g(()=>N.value||[]),{data:f,pending:I,refresh:D}=([n,_]=C(()=>T("posts",()=>P(m.value||void 0,r.value,l.value||void 0),{watch:[r,m]})),n=await n,_(),n),h=g(()=>f.value?.posts||[]),E=g(()=>f.value?.total||0),S=g(()=>f.value?.totalPages||1),k=p=>{m.value=p,r.value=1,l.value=""};let b;const F=()=>{clearTimeout(b),b=setTimeout(()=>{r.value=1,D()},500)};return G({title:"Home | Blog",meta:[{name:"description",content:"Explore the latest articles on web development and technology"}]}),(p,s)=>{const H=R,w=M,v=O,z=X,J=Y,L=Z;return o(),i("div",te,[s[5]||(s[5]=t("div",{class:"bg-gradient-to-r from-success-600 to-primary-800 text-white py-20"},[t("div",{class:"container mx-auto px-4"},[t("h1",{class:"text-5xl font-bold mb-4"}," Blog"),t("p",{class:"text-xl opacity-90"},"Exploring the latest in web development and technology")])],-1)),t("div",ae,[t("div",se,[c(H,{modelValue:a(l),"onUpdate:modelValue":s[0]||(s[0]=e=>B(l)?l.value=e:null),icon:"i-heroicons-magnifying-glass",size:"xl",placeholder:"Search articles...",onInput:F},null,8,["modelValue"])]),t("div",oe,[t("div",ne,[c(w,{variant:a(m)===null?"solid":"outline",color:"primary",onClick:s[1]||(s[1]=e=>k(null))},{default:u(()=>[...s[3]||(s[3]=[x(" All Posts ",-1)])]),_:1},8,["variant"]),(o(!0),i($,null,V(a(A),e=>(o(),U(w,{key:e.name,variant:a(m)===e.name?"solid":"outline",color:"primary",onClick:Q=>k(e.name)},{default:u(()=>[x(d(e.name)+" ("+d(e.count)+") ",1)]),_:2},1032,["variant","onClick"]))),128))])]),a(I)?(o(),i("div",le,[c(v,{name:"i-heroicons-arrow-path",class:"animate-spin text-4xl text-primary-500"})])):a(h).length?(o(),i("div",re,[(o(!0),i($,null,V(a(h),e=>(o(),U(J,{key:e.id,class:"hover:shadow-xl transition-shadow cursor-pointer",onClick:Q=>("navigateTo"in p?p.navigateTo:a(W))(`/blog/${e.slug}`),ui:{header:"p-0 px-0 sm:px-0"}},{header:u(()=>[t("img",{src:e?.image_url,alt:e.title,class:"w-full h-110 object-cover"},null,8,ie)]),default:u(()=>[t("div",ce,[c(z,{color:"primary",variant:"subtle"},{default:u(()=>[x(d(e.category),1)]),_:2},1024),t("h3",de,d(e.title),1),t("p",me,d(e.excerpt),1),t("div",ue,[s[4]||(s[4]=t("div",{class:"flex items-center gap-2"},null,-1)),t("div",_e,[c(v,{name:"i-heroicons-clock"}),x(" "+d(e.readTime)+" min ",1)])])])]),_:2},1032,["onClick"]))),128))])):(o(),i("div",pe,[c(v,{name:"i-heroicons-document-text",class:"text-6xl text-gray-400 mb-4"}),t("p",ge,d(a(l)?`No results found for "${a(l)}"`:"No posts found"),1)])),a(S)>1?(o(),i("div",xe,[c(L,{modelValue:a(r),"onUpdate:modelValue":s[2]||(s[2]=e=>B(r)?r.value=e:null),"page-count":9,total:a(E)},null,8,["modelValue","total"])])):K("",!0)])])}}});export{Ce as default};
